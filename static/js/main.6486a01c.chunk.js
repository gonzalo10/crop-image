(this["webpackJsonpreact-crop"]=this["webpackJsonpreact-crop"]||[]).push([[0],{21:function(t,e,n){t.exports=n(31)},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(11),i=n.n(r),o=n(14),a=n(4),s=n(5),c=n(8),h=n(7),d=n(9),u=n(15),p=n.n(u),f=n(0),l=n.n(f),g=n(3),m=n(6),v=n(1),A=n(2);function w(){var t=Object(v.a)(["\n\ttop: 0;\n\tleft: 0;\n\twidth: 6px;\n\theight: 100%;\n\tmargin-left: -3px;\n"]);return w=function(){return t},t}function O(){var t=Object(v.a)(["\n\tbottom: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 6px;\n\tmargin-bottom: -3px;\n"]);return O=function(){return t},t}function x(){var t=Object(v.a)(["\n\tright: 0;\n\ttop: 0;\n\twidth: 6px;\n\theight: 100%;\n\tmargin-right: -3px;\n"]);return x=function(){return t},t}function b(){var t=Object(v.a)(["\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 6px;\n\tmargin-top: -3px;\n"]);return b=function(){return t},t}function C(){var t=Object(v.a)(["\n\tposition: absolute;\n"]);return C=function(){return t},t}function y(){var t=Object(v.a)(["\n\tposition: relative;\n\tdisplay: inline-block;\n\tcursor: crosshair;\n\toverflow: hidden;\n\tmax-width: 100%;\n\t&:focus {\n\t\toutline: none;\n\t}\n\tdisplay: block;\n\tmax-width: 100%;\n\ttouch-action: manipulation;\n"]);return y=function(){return t},t}function D(){var t=Object(v.a)(["\n\tposition: relative;\n\tcursor: crosshair;\n\toverflow: hidden;\n\tmax-width: 100%;\n\tdisplay: block;\n\ttouch-action: manipulation;\n"]);return D=function(){return t},t}function E(){var t=Object(v.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\ttransform: translate3d(0, 0, 0);\n\tbox-sizing: border-box;\n\tcursor: move;\n\tbox-shadow: 0 0 0 9999em rgba(0, 0, 0, 0.5);\n\ttouch-action: manipulation;\n\tborder: 1px solid;\n\tborder-image-source: url('data:image/gif;base64,R0lGODlhCgAKAJECAAAAAP///////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEI5RDc5MTFDNkE2MTFFM0JCMDZEODI2QTI4MzJBOTIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEI5RDc5MTBDNkE2MTFFM0JCMDZEODI2QTI4MzJBOTIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuZGlkOjAyODAxMTc0MDcyMDY4MTE4MDgzQzNDMjA5MzREQ0ZDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyODAxMTc0MDcyMDY4MTE4MDgzQzNDMjA5MzREQ0ZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQoAAgAsAAAAAAoACgAAAhWEERkn7W3ei7KlagMWF/dKgYeyGAUAIfkEBQoAAgAsAAAAAAoACgAAAg+UYwLJ7RnQm7QmsCyVKhUAIfkEBQoAAgAsAAAAAAoACgAAAhCUYgLJHdiinNSAVfOEKoUCACH5BAUKAAIALAAAAAAKAAoAAAIRVISAdusPo3RAzYtjaMIaUQAAIfkEBQoAAgAsAAAAAAoACgAAAg+MDiem7Q8bSLFaG5il6xQAIfkEBQoAAgAsAAAAAAoACgAAAg+UYRLJ7QnQm7SmsCyVKhUAIfkEBQoAAgAsAAAAAAoACgAAAhCUYBLJDdiinNSEVfOEKoECACH5BAUKAAIALAAAAAAKAAoAAAIRFISBdusPo3RBzYsjaMIaUQAAOw==');\n\tborder-image-slice: 1;\n\tborder-image-repeat: repeat;\n"]);return E=function(){return t},t}function S(){var t=Object(v.a)(["\n\ttop: 50%;\n\tleft: 0;\n\tmargin-top: -5px;\n\tmargin-left: -5px;\n\tcursor: w-resize;\n"]);return S=function(){return t},t}function I(){var t=Object(v.a)(["\n\tbottom: 0;\n\tleft: 0;\n\tmargin-bottom: -5px;\n\tmargin-left: -5px;\n\tcursor: sw-resize;\n"]);return I=function(){return t},t}function j(){var t=Object(v.a)(["\n\tbottom: 0;\n\tleft: 50%;\n\tmargin-bottom: -5px;\n\tmargin-left: -5px;\n\tcursor: s-resize;\n"]);return j=function(){return t},t}function M(){var t=Object(v.a)(["\n\tbottom: 0;\n\tright: 0;\n\tmargin-bottom: -5px;\n\tmargin-right: -5px;\n\tcursor: se-resize;\n"]);return M=function(){return t},t}function k(){var t=Object(v.a)(["\n\ttop: 50%;\n\tright: 0;\n\tmargin-top: -5px;\n\tmargin-right: -5px;\n\tcursor: e-resize;\n"]);return k=function(){return t},t}function R(){var t=Object(v.a)(["\n\ttop: 0;\n\tright: 0;\n\tmargin-top: -5px;\n\tmargin-right: -5px;\n\tcursor: ne-resize;\n"]);return R=function(){return t},t}function Y(){var t=Object(v.a)(["\n\ttop: 0;\n\tleft: 0;\n\tmargin-top: -5px;\n\tmargin-left: -5px;\n\tcursor: nw-resize;\n"]);return Y=function(){return t},t}function L(){var t=Object(v.a)(["\n\ttop: 0;\n\tleft: 50%;\n\tmargin-top: -5px;\n\tmargin-left: -5px;\n\tcursor: n-resize;\n"]);return L=function(){return t},t}function W(){var t=Object(v.a)(["\n\tposition: absolute;\n\twidth: 10px;\n\theight: 10px;\n\tbackground-color: rgba(0, 0, 0, 0.2);\n\tborder: 1px solid rgba(255, 255, 255, 0.7);\n\tbox-sizing: border-box;\n\toutline: 1px solid transparent;\n"]);return W=function(){return t},t}var z=A.a.div(W()),N=Object(A.a)(z)(L()),U=Object(A.a)(z)(Y()),B=Object(A.a)(z)(R()),H=Object(A.a)(z)(k()),Q=Object(A.a)(z)(M()),T=Object(A.a)(z)(j()),X=Object(A.a)(z)(I()),Z=Object(A.a)(z)(S()),G=A.a.div(E()),J=A.a.div(D()),F=A.a.img(y()),V=A.a.div(C()),P=Object(A.a)(V)(b()),K=Object(A.a)(V)(x()),q=Object(A.a)(V)(O()),_=Object(A.a)(V)(w()),$=n(19),tt=function(t,e){var n,r,i=e.ord,o=e.cropOffset,a=e.cropStartWidth,s=e.cropStartHeight;return"nw"===i||"se"===i?(n=s/a,r=o.top-o.left*n):(n=-s/a,r=o.top+(s-o.left*n)),n*t+r};function et(t){var e,n;if(t.touches){var r=Object($.a)(t.touches,1)[0];e=r.pageX,n=r.pageY}else e=t.pageX,n=t.pageY;return{x:e,y:n}}function nt(t,e,n){return Math.min(Math.max(t,e),n)}function rt(t){return t&&t.width&&t.height&&!isNaN(t.width)&&!isNaN(t.height)}function it(t){return"n"===t?"s":"ne"===t?"sw":"e"===t?"w":"se"===t?"nw":"s"===t?"n":"sw"===t?"ne":"w"===t?"e":"nw"===t?"se":t}function ot(t,e,n){return"%"===t.unit?t:{unit:"%",aspect:t.aspect,x:t.x/e*100,y:t.y/n*100,width:t.width/e*100,height:t.height/n*100}}function at(t,e,n){return t.unit?"px"===t.unit?t:{unit:"px",aspect:t.aspect,x:t.x*e/100,y:t.y*n/100,width:t.width*e/100,height:t.height*n/100}:Object(g.a)({},t,{unit:"px"})}var st=function(t){var e=t.props,n=t.getCropStyle,r=t.onCropAreaMouseDown,i=t.handleChangeSelection,o=t.getElementOffset,a=t.mediaDimensions,s=Object(f.useRef)(null),c=e.disabled,h=e.locked,d=e.ruleOfThirds,u=n();return r=function(t){var n=e.crop,r=e.disabled,c=at(n,a.width,a.height);if(!r){t.preventDefault();var h,d=et(t),u=t.target.dataset.ord,p="nw"===u||"w"===u||"sw"===u,f="nw"===u||"n"===u||"ne"===u;c.aspect&&(h=o(s));var l={clientStartX:d.x,clientStartY:d.y,cropStartWidth:c.width,cropStartHeight:c.height,cropStartX:p?c.x+c.width:c.x,cropStartY:f?c.y+c.height:c.y,xInversed:p,yInversed:f,xCrossOver:p,yCrossOver:f,startXCrossOver:p,startYCrossOver:f,isResize:t.target.dataset.ord,ord:u,cropOffset:h};i(l)}},l.a.createElement(G,{ref:s,style:u,onMouseDown:r,onTouchStart:r,tabIndex:"0"},!c&&!h&&l.a.createElement("div",null,l.a.createElement(P,{"data-ord":"n"}),l.a.createElement(K,{"data-ord":"e"}),l.a.createElement(q,{"data-ord":"s"}),l.a.createElement(_,{"data-ord":"w"}),l.a.createElement(U,{"data-ord":"nw"}),l.a.createElement(N,{"data-ord":"n"}),l.a.createElement(B,{"data-ord":"ne"}),l.a.createElement(H,{"data-ord":"e"}),l.a.createElement(Q,{"data-ord":"se"}),l.a.createElement(T,{"data-ord":"s"}),l.a.createElement(X,{"data-ord":"sw"}),l.a.createElement(Z,{"data-ord":"w"})),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),l.a.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))},ct=function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(i)))).window="undefined"!==typeof window?window:{},n.document="undefined"!==typeof document?document:{},n.state={},n.handleChangeSelection=function(t){n.evData=t,n.mouseDownOnCropArea=!0,n.setState({cropIsActive:!0})},n.onComponentMouseDown=function(t){var e=n.props,r=e.crop,i=e.disabled,o=e.locked,a=e.keepSelection,s=e.onChange,c=n.mediaWrapperRef.firstChild;if(t.target===c&&c.contains(t.target)&&!(i||o||a&&rt(r))){t.preventDefault();var h=et(t),d=n.getElementOffset(n.mediaWrapperRef),u=h.x-d.left,p=h.y-d.top,f={unit:"px",aspect:r?r.aspect:void 0,x:u,y:p,width:0,height:0};n.evData={clientStartX:h.x,clientStartY:h.y,cropStartWidth:f.width,cropStartHeight:f.height,cropStartX:f.x,cropStartY:f.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},n.mouseDownOnCropArea=!0;var l=n.mediaDimensions,g=l.width,m=l.height;s(at(f,g,m),ot(f,g,m)),n.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}},n.onDocMouseMove=function(t){var e=n.props,r=e.crop,i=e.disabled,o=e.onChange,a=e.onDragStart;if(!i&&n.mouseDownOnCropArea){t.preventDefault(),n.dragStarted||(n.dragStarted=!0,a(t));var s,c=Object(m.a)(n).evData,h=et(t);if(c.isResize&&r.aspect&&c.cropOffset&&(h.y=tt(h.x,n.evData)),c.xDiff=h.x-c.clientStartX,c.yDiff=h.y-c.clientStartY,(s=c.isResize?n.resizeCrop():n.dragCrop())!==r){var d=n.mediaDimensions,u=d.width,p=d.height;o(at(s,u,p),ot(s,u,p))}}},n.onDocMouseEnd=function(t){var e=n.props,r=e.crop,i=e.disabled,o=e.onComplete,a=e.onDragEnd;if(!i&&n.mouseDownOnCropArea){n.mouseDownOnCropArea=!1,n.dragStarted=!1;var s=n.mediaDimensions,c=s.width,h=s.height;a(t),o(at(r,c,h),ot(r,c,h)),n.setState({cropIsActive:!1,newCropIsBeingDrawn:!1})}},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){if(this.document.addEventListener){!function(t,e,n,r){t.addEventListener("mousemove",e,r),t.addEventListener("touchmove",e,r),t.addEventListener("mouseup",n,r),t.addEventListener("touchend",n,r),t.addEventListener("touchcancel",n,r)}(this.document,this.onDocMouseMove,this.onDocMouseEnd,!1)}}},{key:"componentWillUnmount",value:function(){this.document.removeEventListener&&function(t,e,n){t.removeEventListener("mousemove",e),t.removeEventListener("touchmove",e),t.removeEventListener("mouseup",n),t.removeEventListener("touchend",n),t.removeEventListener("touchcancel",n)}(this.document,this.onDocMouseMove,this.onDocMouseEnd)}},{key:"getDocumentOffset",value:function(){var t=this.document.documentElement||{},e=t.clientTop,n=void 0===e?0:e,r=t.clientLeft;return{clientTop:n,clientLeft:void 0===r?0:r}}},{key:"getWindowOffset",value:function(){var t=this.window,e=t.pageYOffset,n=void 0===e?0:e,r=t.pageXOffset;return{pageYOffset:n,pageXOffset:void 0===r?0:r}}},{key:"getElementOffset",value:function(t){var e=t.getBoundingClientRect(),n=this.getDocumentOffset(),r=this.getWindowOffset();return{top:e.top+r.pageYOffset-n.clientTop,left:e.left+r.pageXOffset-n.clientLeft}}},{key:"getCropStyle",value:function(){var t=this.makeNewCrop(this.props.crop?this.props.crop.unit:"px");return{top:"".concat(t.y).concat(t.unit),left:"".concat(t.x).concat(t.unit),width:"".concat(t.width).concat(t.unit),height:"".concat(t.height).concat(t.unit)}}},{key:"getNewSize",value:function(){var t,e=this.props,n=e.crop,r=e.minWidth,i=e.maxWidth,o=e.minHeight,a=e.maxHeight,s=this.evData,c=this.mediaDimensions,h=c.width,d=c.height,u=s.cropStartWidth+s.xDiff;return s.xCrossOver&&(u=Math.abs(u)),u=nt(u,r,i||h),t=n.aspect?u/n.aspect:s.cropStartHeight+s.yDiff,s.yCrossOver&&(t=Math.min(Math.abs(t),s.cropStartY)),t=nt(t,o,a||d),n.aspect&&(u=nt(t*n.aspect,0,h)),{width:u,height:t}}},{key:"dragCrop",value:function(){var t=this.makeNewCrop(),e=this.evData,n=this.mediaDimensions,r=n.width,i=n.height;return t.x=nt(e.cropStartX+e.xDiff,0,r-t.width),t.y=nt(e.cropStartY+e.yDiff,0,i-t.height),t}},{key:"resizeCrop",value:function(){var t=this.evData,n=this.makeNewCrop(),r=t.ord;t.xInversed&&(t.xDiff-=2*t.cropStartWidth,t.xDiffPc-=2*t.cropStartWidth),t.yInversed&&(t.yDiff-=2*t.cropStartHeight,t.yDiffPc-=2*t.cropStartHeight);var i=this.getNewSize(),o=t.cropStartX,a=t.cropStartY;t.xCrossOver&&(o=n.x+(n.width-i.width)),t.yCrossOver&&(a=!1===t.lastYCrossover?n.y-i.height:n.y+(n.height-i.height));var s=this.mediaDimensions,c=s.width,h=s.height,d=function(t,e,n,r){var i=at(e,n,r),o=at(t,n,r),a=Object(g.a)({},i);if(!i.aspect)return i.x<0?(a.x=0,a.width+=i.x):i.x+i.width>n&&(a.width=n-i.x),i.y+i.height>r&&(a.height=r-i.y),a;var s=!1;i.x<0?(a.x=0,a.width+=i.x,a.height=a.width/i.aspect,s=!0):i.x+i.width>n&&(a.width=n-i.x,a.height=a.width/i.aspect,s=!0),s&&o.y>a.y&&(a.y=i.y+(i.height-a.height));var c=!1;return a.y+a.height>r&&(a.height=r-i.y,a.width=a.height*i.aspect,c=!0),c&&o.x>a.x&&(a.x=i.x+(i.width-a.width)),a}(this.props.crop,{unit:n.unit,x:o,y:a,width:i.width,height:i.height,aspect:n.aspect},c,h);return n.aspect||e.xyOrds.indexOf(r)>-1?(n.x=d.x,n.y=d.y,n.width=d.width,n.height=d.height):e.xOrds.indexOf(r)>-1?(n.x=d.x,n.width=d.width):e.yOrds.indexOf(r)>-1&&(n.y=d.y,n.height=d.height),t.lastYCrossover=t.yCrossOver,this.evData=function(t,e){var n=e.minWidth,r=e.minHeight;!n&&(!t.xCrossOver&&-Math.abs(t.cropStartWidth)-t.xDiff>=0||t.xCrossOver&&-Math.abs(t.cropStartWidth)-t.xDiff<=0)&&(t.xCrossOver=!t.xCrossOver),!r&&(!t.yCrossOver&&-Math.abs(t.cropStartHeight)-t.yDiff>=0||t.yCrossOver&&-Math.abs(t.cropStartHeight)-t.yDiff<=0)&&(t.yCrossOver=!t.yCrossOver);var i=t.xCrossOver!==t.startXCrossOver,o=t.yCrossOver!==t.startYCrossOver;return t.inversedXOrd=!!i&&it(t.ord),t.inversedYOrd=!!o&&it(t.ord),t}(this.evData,this.props),n}},{key:"makeNewCrop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"px",n=Object(g.a)({},e.defaultCrop,{},this.props.crop),r=this.mediaDimensions,i=r.width,o=r.height;return"px"===t?at(n,i,o):ot(n,i,o)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.crossorigin,i=e.crop,o=e.imageAlt,a=e.onImageError,s=e.renderComponent,c=e.src,h=e.style,d=e.imageStyle,u=e.onImageLoaded;return l.a.createElement(J,{ref:function(e){return t.componentRef=e},className:"ReactCrop",style:h,onMouseDown:this.onComponentMouseDown,onTouchStart:this.onComponentMouseDown,tabIndex:"0"},l.a.createElement("div",{ref:function(e){return t.mediaWrapperRef=e}},s||l.a.createElement(F,{ref:function(e){return t.imageRef=e},crossOrigin:r,style:d,src:c,onLoad:u,onError:a,alt:o})),n,rt(i)&&l.a.createElement(st,{props:this.props,getCropStyle:function(){return t.getCropStyle()},onCropAreaMouseDown:this.onCropAreaMouseDown,handleChangeSelection:this.handleChangeSelection,getElementOffset:this.getElementOffset,mediaDimensions:this.mediaDimensions,mouseDownOnCropArea:this.mouseDownOnCropArea}))}},{key:"mediaDimensions",get:function(){var t=this.mediaWrapperRef;return{width:t.clientWidth,height:t.clientHeight}}}]),e}(f.PureComponent);ct.xOrds=["e","w"],ct.yOrds=["n","s"],ct.xyOrds=["nw","ne","se","sw"],ct.nudgeStep=.2,ct.nudgeStepLarge=2,ct.defaultCrop={x:0,y:0,width:0,height:0,unit:"px"},ct.defaultProps={circularCrop:!1,className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:void 0,maxHeight:void 0,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,renderComponent:void 0,imageStyle:void 0,renderSelectionAddon:void 0,ruleOfThirds:!1};n(29),n(30);var ht=function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(i)))).state={src:null,crop:{}},n.onSelectFile=function(t){if(t.target.files&&t.target.files.length>0){var e=new FileReader;e.addEventListener("load",(function(){return n.setState({src:e.result})})),e.readAsDataURL(t.target.files[0])}},n.onImageLoaded=function(t){n.imageRef=t.target},n.onCropComplete=function(t){n.makeClientCrop(t)},n.onCropChange=function(t,e){n.setState({crop:t})},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"makeClientCrop",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.imageRef&&e.width&&e.height)){t.next=5;break}return t.next=3,this.getCroppedImg(this.imageRef,e,"newFile.jpeg");case 3:n=t.sent,this.setState({croppedImageUrl:n});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(t,e,n){var r=this,i=document.createElement("canvas"),o=t.naturalWidth/t.width,a=t.naturalHeight/t.height;return i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(t,e.x*o,e.y*a,e.width*o,e.height*a,0,0,e.width,e.height),new Promise((function(t,e){i.toBlob((function(e){e?(e.name=n,window.URL.revokeObjectURL(r.fileUrl),r.fileUrl=window.URL.createObjectURL(e),t(r.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"render",value:function(){var t=this.state,e=t.crop,n=t.croppedImageUrl,r=t.src;return l.a.createElement("div",{className:"App"},l.a.createElement("div",null,l.a.createElement("input",{type:"file",accept:"image/*",onChange:this.onSelectFile})),r&&l.a.createElement(ct,{src:r,crop:e,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),n&&l.a.createElement("img",{alt:"Crop",style:{maxWidth:"100%"},src:n}))}}]),e}(f.PureComponent);p.a.render(l.a.createElement(ht,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6486a01c.chunk.js.map